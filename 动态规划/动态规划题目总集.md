## ç¬¬ä¸€é¢˜

[D-å°å½©çš„æ•°ç»„é€‰æ•°_ç‰›å®¢å‘¨èµ› Round 114](https://ac.nowcoder.com/acm/contest/119273/D)

é“¾æ¥ï¼š[D-å°å½©çš„æ•°ç»„é€‰æ•°_ç‰›å®¢å‘¨èµ› Round 114](https://ac.nowcoder.com/acm/contest/119273/D)  
æ¥æºï¼šç‰›å®¢ç½‘  

## é¢˜ç›®æè¿°

å°çº¢å–œæ¬¢Â 1ï¼Œå°ç´«å–œæ¬¢Â 2ï¼Œå°å½©å–œæ¬¢Â 3ã€‚

ç°åœ¨ä»–ä»¬æ‹¿åˆ°äº†ä¸€ä¸ªä»…ç”±Â 1,2,3Â ç»„æˆçš„é•¿ä¸º nÂ çš„æ•°ç»„ aï¼Œå¥¹ä»¬å¯ä»¥è¿›è¡Œè‹¥å¹²æ¬¡å¦‚ä¸‹æ“ä½œï¼š

âˆ™Â å°çº¢å¯ä»¥é€‰æ‹©æ•°ç»„ä¸­çš„ä»»æ„ä¸€ä¸ª 1ï¼Œå°†å…¶å˜ä¸ºÂ 0Â å¹¶è·å¾— 1Â åˆ†ï¼Œä¹‹åå°†ä¸å…¶ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ å˜ä¸ºÂ 0ã€‚

âˆ™Â å°ç´«å¯ä»¥é€‰æ‹©æ•°ç»„ä¸­çš„ä»»æ„ä¸€ä¸ªÂ 2ï¼Œå°†å…¶å˜ä¸ºÂ 0 å¹¶è·å¾—Â 2Â åˆ†ï¼Œä¹‹åå°†ä¸å…¶ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ å˜ä¸ºÂ 0ã€‚

âˆ™Â å°å½©å¯ä»¥é€‰æ‹©æ•°ç»„ä¸­çš„ä»»æ„ä¸€ä¸ªÂ 3ï¼Œå°†å…¶å˜ä¸ºÂ 0 å¹¶è·å¾—Â 3Â åˆ†ï¼Œä¹‹åå°†ä¸å…¶ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ å˜ä¸ºÂ 0ã€‚  

ç°åœ¨å°å½©æƒ³çŸ¥é“ï¼Œå¥¹ä»¬æœ€å¤šå¯ä»¥è·å¾—å¤šå°‘åˆ†ï¼Ÿ

```java
import java.io.*;
import java.util.*;

public class Main {

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        PrintWriter pw = new PrintWriter(new BufferedWriter(new OutputStreamWriter(System.out)));
        //
        int n = Integer.parseInt(br.readLine());
        int[]arr = new int[n],dp = new int[n];//æ¸…æ¥šiä½ç½®åŠä¹‹å‰ä¸º0èƒ½å¾—åˆ°æœ€å¤§åˆ†æ•°
        StringTokenizer st = new StringTokenizer(br.readLine());
        for(int i = 0;i < n;i++){
            arr[i] = Integer.parseInt(st.nextToken());
        }
        if(n <= 2){
            pw.println(n == 1?arr[0]:Math.max(arr[0],arr[1]));
            pw.flush();
            pw.close();br.close();return;
        }
        dp[0] = arr[0];
        dp[1] = arr[1];
        dp[2] = Math.max(dp[0] + arr[2],dp[1]);
        for(int i = 3;i < n;i++){
            dp[i] = dp[i - 1];//ä¸é€‰
            //é€‰çš„è¯åªè€ƒè™‘dp[i - 2],dp[i -  3];i - 3 , i - 2 , i - 1 , i,è€ƒè™‘dp[i - 4]çš„è¯i - 2å°±æ²¡æœ‰æ¸…é›¶
            dp[i] = Math.max(dp[i],dp[i-2] + arr[i]);
            dp[i] = Math.max(dp[i],dp[i-3] + arr[i]);
        }
        pw.println(dp[n - 1]);
        //
        pw.flush();
        pw.close();br.close();
    }


}
```

## ç¬¬äºŒé¢˜

[D-æ–½é­”æ³•_ç‰›å®¢2025ç§‹å­£ç®—æ³•ç¼–ç¨‹è®­ç»ƒè”èµ›2-æå‡ç»„](https://ac.nowcoder.com/acm/contest/119774/D)

```
é“¾æ¥ï¼šhttps://ac.nowcoder.com/acm/contest/119774/D
æ¥æºï¼šç‰›å®¢ç½‘

ç‰›å¯ä¹æœ‰ n ä¸ªå…ƒç´ ( ç¼–å· 1..n )ï¼Œç¬¬ i ä¸ªå…ƒç´ çš„èƒ½é‡å€¼ä¸º ai
 ã€‚
ç‰›å¯ä¹å¯ä»¥é€‰æ‹©è‡³å°‘ k ä¸ªå…ƒç´ æ¥æ–½æ”¾ä¸€æ¬¡é­”æ³•ï¼Œé­”æ³•æ¶ˆè€—çš„é­”åŠ›æ˜¯è¿™äº›å…ƒç´ èƒ½é‡å€¼çš„æå·®ã€‚å½¢å¼åŒ–åœ°ï¼Œè‹¥æ‰€ç”¨å…ƒç´ ç¼–å·é›†åˆä¸º Sï¼Œåˆ™æ¶ˆè€—çš„é­”åŠ›ä¸º 
é›†åˆä¸­æœ€å¤§å€¼å‡å»æœ€å°å€¼ã€‚
ç‰›å¯ä¹è¦æ±‚æ¯ä¸ªå…ƒç´ å¿…é¡»è¢«ä½¿ç”¨æ°å¥½ä¸€æ¬¡ã€‚
ç‰›å¯ä¹æƒ³çŸ¥é“ä»–æœ€å°‘éœ€è¦å¤šå°‘é­”åŠ›æ‰èƒ½ç”¨å®Œæ‰€æœ‰å…ƒç´ ï¼Œè¯·ä½ å‘Šè¯‰ä»–ã€‚
```

```java
import java.io.*;
import java.util.*;
//è¦ä¹ˆå»¶é•¿ä¸€æ®µï¼Œè¦ä¹ˆé‡å¼€ä¸€æ®µï¼Œé‡å¼€ä¸€æ®µkå³å¯ï¼Œå†é•¿çš„æ²¡å¿…è¦ï¼Œå»¶é•¿ä¸€æ®µåŒ…å«äº†å› ä¸º
public class Main {
    static BufferedReader br;
    static PrintWriter pw;
    public static void main(String[] args) throws IOException {
        br = new BufferedReader(new InputStreamReader(System.in));
        pw = new PrintWriter(new BufferedWriter(new OutputStreamWriter(System.out)));
        //
        StringTokenizer st = new StringTokenizer(br.readLine());
        int n = Integer.parseInt(st.nextToken());
        int k = Integer.parseInt(st.nextToken());
        int[]arr = new int[n];
        st = new StringTokenizer(br.readLine());
        for(int i = 0;i < n;i++){
            arr[i] = Integer.parseInt(st.nextToken());
        }
        Arrays.sort(arr);
        int[]dp = new int[n];
        dp[k - 1] = arr[k - 1] - arr[0];
        for(int i = k;i < n;i++){
            dp[i] = arr[i] - arr[0];
            dp[i] = Math.min(dp[i],dp[i - 1] - arr[i - 1] + arr[i]);//å»¶é•¿é•¿åº¦
            if(i - k >= k - 1)dp[i] = Math.min(dp[i],dp[i - k] + arr[i] - arr[i - k + 1]);//å¦å¼€ä¸€æ®µ
        }
        System.out.println(dp[n - 1]);
        //
        pw.flush();
        pw.close();br.close();
    }
    public  static int quick_mi(long a,long p,long mod){
        int res = 1;
        while(p > 0){
            if((p & 1) == 1){
                res = (int)(a * res % mod);
            }
            p >>= 1;
            a = a * a % mod;
        }return res;
    }


}
```

## ç¬¬ä¸‰é¢˜

[E-ç‰›ç‰›çš„å®å¯æ¢¦Go_ç‰›å®¢2025ç§‹å­£ç®—æ³•ç¼–ç¨‹è®­ç»ƒè”èµ›3-æå‡ç»„](https://ac.nowcoder.com/acm/contest/120456/E)

**æ—¶ç©ºçº¦æŸ+åŠ¨æ€æœ€ä¼˜äº‹ä»¶é€‰æ‹©**

## ğŸ“Œ æ ¸å¿ƒæ€è·¯

é¢„å¤„ç†ä»»æ„ä¸¤ç‚¹æœ€çŸ­è·¯

å°†äº‹ä»¶æŒ‰æ—¶é—´æ’åº,äº‹ä»¶é¡ºåºå›ºå®š â†’ DP æŒ‰æ—¶é—´æ¨è¿›

DP çŠ¶æ€è®¾è®¡

è®¾ï¼š

`dp[x] = è‹¥å¹²çŠ¶æ€ (time, value) è¡¨ç¤ºåˆ°è¾¾åœ°ç‚¹ x çš„ä¸åŒæ—¶é—´ç‚¹èƒ½è·å¾—çš„æœ€é«˜ä»·å€¼`

æ³¨æ„ï¼š  
æˆ‘ä»¬å¯¹æ¯ä¸ªåœ°ç‚¹ç»´æŠ¤ä¸€ä¸ªæŒ‰æ—¶é—´é€’å¢çš„çŠ¶æ€åºåˆ—ï¼Œä¸”ï¼š

ğŸ“Œ **ä»·å€¼å¿…é¡»æ˜¯å‰ç¼€ä¸é™çš„**  
å› ä¸ºä»·å€¼å°‘çš„çŠ¶æ€æ°¸è¿œä¸ä¼šæ›´ä¼˜

---

### âœ… çŠ¶æ€è½¬ç§»

å¯¹æ¯ä¸ªäº‹ä»¶ (t, v, val)ï¼Œå°è¯•ä»æ‰€æœ‰ u è½¬ç§»ï¼šå¦‚æœèƒ½èµ¶åˆ°ï¼š

`arrive_time = t - dist[u][v] æ‰¾åˆ° dp[u] ä¸­ time â‰¤ arrive_time çš„æœ€ä¼˜çŠ¶æ€`

äºŒåˆ†æŸ¥æ‰¾ï¼š

`int idx = upper(dp.get(u), arrive_time)`

æ›´æ–°æœ€ä¼˜å€¼ï¼š

`best = max(best, dp[u][idx].value + val)`

å¦‚æœè¯¥äº‹ä»¶å¯è¾¾ï¼Œå°†å…¶åŠ å…¥ dp[v]

å¹¶ç»´æŠ¤å‰ç¼€æœ€å¤§æ€§è´¨ï¼š

åªåŠ å…¥æ¯”æœ€åä¸€ä¸ªçŠ¶æ€æ›´ä¼˜çš„çŠ¶æ€

```java
import java.io.*;
import java.util.*;

public class Main {
    static BufferedReader br;
    static PrintWriter pw;
    static final int MOD = 1000000007;

    public static void main(String[] args) throws IOException {
        br = new BufferedReader(new InputStreamReader(System.in));
        pw = new PrintWriter(new BufferedWriter(new OutputStreamWriter(System.out)));

        int t = 1;
        while (t-- > 0) {
            solve();
        }
        pw.flush();
        pw.close();
        br.close();
    }

    public static void solve() throws IOException {
        StringTokenizer st = new StringTokenizer(br.readLine());
        int n = Integer.parseInt(st.nextToken()),m = Integer.parseInt(st.nextToken());
        int[][]dis = new int[n + 1][n + 1];
        final int NIL = Integer.MAX_VALUE / 2;
        for(int i = 1;i <= n;i++){
            Arrays.fill(dis[i],NIL);
            dis[i][i] = 0;
        }
        for(int u,v,i = 1;i <= m;i++){
            st = new StringTokenizer(br.readLine());
            u = Integer.parseInt(st.nextToken());v = Integer.parseInt(st.nextToken());
            dis[u][v] = dis[v][u] = 1;
        }
        for(int z = 1;z <= n;z++){
            for(int i = 1;i <= n;i++){
                for(int j = 1;j <= n;j++){
                    dis[i][j] = dis[j][i] = Math.min(dis[i][j],dis[i][z] + dis[z][j]);
                }
            }
        }
        int k = Integer.parseInt(br.readLine());
        int[][]e = new int[k][3];
        for(int i = 0;i < k;i++){
            st = new StringTokenizer(br.readLine());
            e[i][0] = Integer.parseInt(st.nextToken());e[i][1] = Integer.parseInt(st.nextToken());e[i][2]  = Integer.parseInt(st.nextToken());
        }
        Arrays.sort(e,(a,b)->{
            return a[0] <= b[0]?-1:1;
        });
        List<List<long[]>>dp =new ArrayList<>();
        for(int i = 0;i <= n;i++)dp.add(new ArrayList<>());
        dp.get(1).add(new long[]{0,0});
        long res = 0;
        for(int i = 0;i < k;i++){
            long t = e[i][0],val = e[i][2];
            int v = e[i][1];
            long bestVal = Integer.MIN_VALUE;
            for(int u = 1;u <= n;u++){
                if(dis[u][v] == NIL)continue;
                long need = t - dis[u][v];
                if(need < 0)continue;
                int find = upper(dp,u,(int)need);
                if(find == -1)continue;
                bestVal = Math.max(bestVal,dp.get(u).get(find)[1] + val);
            }
            if(bestVal != Integer.MIN_VALUE){
                dp.get(v).add(new long[]{t,bestVal});
            }
            res = Math.max(res,bestVal);
        }
        pw.println(res);
    }
    public static int upper(List<List<long[]>> dp,int k,int t){
        int l = 0,r = dp.get(k).size() - 1,res = -1;
        while(l <= r){
            int mid = (l + r) / 2;
            if(dp.get(k).get(mid)[0] <= t){
                res = mid;l = mid + 1;
            }else{
                r = mid - 1;
            }
        }
        return res;
    }

}
```

.
