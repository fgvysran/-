[F-nozomi和字符串_牛客2025秋季算法编程训练联赛1-基础组](https://ac.nowcoder.com/acm/contest/118654/F)



```java
//用两次滑动窗口解决，一个是最大长度连续的1，一个是0，这两个的最大值就为答案
//滑动窗口维护变换次数不能超过k
//最坏滑动4 * n 次，O(N)时间
import java.io.*;
import java.util.StringTokenizer;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        PrintWriter pw = new PrintWriter(System.out);
        StringTokenizer st = new StringTokenizer(br.readLine());
        int n = Integer.parseInt(st.nextToken());
        int k = Integer.parseInt(st.nextToken());
        int[]arr = new int[n];
        String s= br.readLine();
        for(int i = 0;i < n;i++){
            arr[i] = (int)(s.charAt(i) - '0');
        }
        pw.println(Math.max(maxLen(arr,n,k,1),maxLen(arr,n,k,0)));
        br.close();
        pw.flush();
        pw.close();
    }
    public static int maxLen(int[]arr,int n,int k,int a){
        int res = 0,l = 0,cnt = 0;
        for(int r = 0;r < n;r++){
            if(arr[r] != a){
                cnt++;
                while(cnt > k && l < r){
                    if(arr[l] != a){
                        cnt--;
                    }l++;
                }
            }
            res = Math.max(res,r - l + 1);
        }
        return res;
    }
}


```
