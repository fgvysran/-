[3397. æ‰§è¡Œæ“ä½œåä¸åŒå…ƒç´ çš„æœ€å¤§æ•°é‡ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/maximum-number-of-distinct-elements-after-operations/description/?envType=daily-question&envId=2025-10-18)

è¯¥é¢˜è´ªå¿ƒæ ¸å¿ƒï¼šèƒ½é€‰æœ€å°çš„ä¸åŒæ•°å°±é€‰æœ€å°çš„ï¼Œè¿™æ ·åé¢çš„æ•°æ‰æœ‰æ›´å¤šç©ºé—´é€‰æ‹©

### ğŸ’¡æ€è·¯è§£æğŸ’¡ğŸ’¡ğŸ’¡

1. **æ’åº**æ•°ç»„ï¼Œä½¿ç›¸é‚»å…ƒç´ å°½é‡é è¿‘ï¼Œæ–¹ä¾¿è´ªå¿ƒå¤„ç†ã€‚

2. ç»´æŠ¤ä¸€ä¸ªå˜é‡ `pre` è¡¨ç¤ºä¸Šä¸€ä¸ªå·²ç»é€‰å®šçš„ä¸é‡å¤æ•°å­—ã€‚

3. å¯¹äºå½“å‰æ•° `nums[i]`ï¼š
   
   - å®ƒèƒ½å–çš„èŒƒå›´æ˜¯ `[nums[i] - k, nums[i] + k]`ï¼›
   
   - æˆ‘ä»¬å¸Œæœ›å®ƒå°½å¯èƒ½å°ã€ä½†åˆè¦å¤§äº `pre`ï¼ˆä¿è¯ä¸é‡å¤ï¼‰ã€‚
   
   - å› æ­¤é€‰å–çš„å€¼ä¸ºï¼š  
     `x = min(max(nums[i] - k, pre + 1), nums[i] + k)`

4. è‹¥ `x > pre`ï¼Œè¯´æ˜èƒ½é€‰å‡ºä¸€ä¸ªæ–°çš„ä¸åŒæ•°ï¼Œæ›´æ–° `pre = x`ï¼Œè®¡æ•° `res++`ã€‚

```java
class Solution {
    public int maxDistinctElements(int[] nums, int k) {
        int n = nums.length;
        int res = 0;
        Arrays.sort(nums);
        int pre = Integer.MIN_VALUE;//ç»´æŠ¤å·¦è¾¹æœ€å¤§æ•°
        for(int i = 0;i < n;i++){
            //å½“å‰ä½ç½®æ•°æœ€å°å€¼
            int x = Math.min(Math.max(nums[i] - k,pre + 1),nums[i] + k);
            //nums[i] + k ä¸Šç•Œï¼Œmax(nums[i] - k,pre + 1)ä¸‹ç•Œ
            if(x > pre){
                pre = x;
                res++;
            }
        }
        return res;
    }
}
```


